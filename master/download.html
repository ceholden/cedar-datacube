

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Download &mdash; cedar 0.0.4 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Pre-ARD to ARD Conversion" href="convert.html" />
    <link rel="prev" title="Pre-ARD Order Tracking" href="tracking.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> cedar
          

          
          </a>

          
            
            
              <div class="version">
                0.0.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="credentials.html">Credentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="submissions.html">Pre-ARD Order Submission</a></li>
<li class="toctree-l1"><a class="reference internal" href="tracking.html">Pre-ARD Order Tracking</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Download</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic-usage">Basic Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-usage">Advanced Usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="convert.html">Pre-ARD to ARD Conversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="cleaning.html">Cleaning pre-ARD from Storage</a></li>
</ul>
<p class="caption"><span class="caption-text">Help and Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Interface Programs</a></li>
<li class="toctree-l1"><a class="reference internal" href="storage.html">Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev.html">Developer Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">cedar</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Download</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/ceholden/cedar-datacube/blob/master/docs/source/download.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="download">
<span id="id1"></span><h1>Download<a class="headerlink" href="#download" title="Permalink to this headline">¶</a></h1>
<p>Submitted orders may contain many pairs of pre-ARD images and metadata files,
especially considering each pre-ARD GeoTIFF image may need to be split into
subfiles. Fortunately, we track enough information about our order to be able
to retrieve our files once they’re exported.</p>
<p>In order to download our order, we need to know the order tracking name. This
tracking name is also used by the <code class="docutils literal notranslate"><span class="pre">cedar</span> <span class="pre">status</span></code> and other programs.</p>
<p>The program <code class="docutils literal notranslate"><span class="pre">cedar</span> <span class="pre">download</span></code> is designed to automate the downloading of your
orders. Given the tracking name of an order, this program will download
all of the GeoTIFF files and JSON metadata created in the order into a directory
based on the tracking name. By default the program downloads the data into your
current working directory, but you may also specify the destination directory
using the <code class="docutils literal notranslate"><span class="pre">--dest</span></code> option.</p>
<div class="section" id="basic-usage">
<h2>Basic Usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h2>
<p>We can download all the data from our order using the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cedar download --dest DEST_PREARD TRACKING_2019-07-18T16:45:25.528253_h063v052
Retrieving pre-ARD from tracking info: TRACKING_2019-07-18T16:45:25.528253_h063v052
Downloading data <span class="k">for</span> <span class="m">10</span> tasks
Downloading  <span class="o">[</span>------------------------------------<span class="o">]</span>    <span class="m">0</span>%  <span class="m">00</span>:00:18  LZ245TIWND3BIVC7Z7TBHOAH
</pre></div>
</div>
</div>
<div class="section" id="advanced-usage">
<h2>Advanced Usage<a class="headerlink" href="#advanced-usage" title="Permalink to this headline">¶</a></h2>
<p>This download program has four features to help you automate the process.</p>
<ol class="arabic simple">
<li><p>Resumable</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>The default behavior of <code class="docutils literal notranslate"><span class="pre">cedar</span> <span class="pre">download</span></code> is to skip files that have been
downloaded already. In other words, downloads using this program are
“resumable” at the level of each file (but it will not resume partially
downloaded files).</p></li>
<li><p>To disable this behavior, pass the <code class="docutils literal notranslate"><span class="pre">--overwrite</span></code> option to the program</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Atomic writes</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">cedar</span> <span class="pre">download</span></code> program will download any data to a temporary file
which will be renamed to the desired filename upon successful completion.
Thanks to this, it is virtually guaranteed that any data you download
will be correct if it has been renamed.</p></li>
<li><p>By default the temporary filename will be in the form of
<code class="docutils literal notranslate"><span class="pre">[DEST_FILENAME].tmp.[HOST][PID]</span></code>. In other words, we append
<code class="docutils literal notranslate"><span class="pre">&quot;.tmp&quot;</span></code> as well as the hostname and process ID to generate a temporary
filename without collisions.</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Update status before downloading</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Passing the <code class="docutils literal notranslate"><span class="pre">--update</span></code> flag to the <code class="docutils literal notranslate"><span class="pre">cedar</span> <span class="pre">download</span></code> program tells
the program to update Earth Engine task statuses in the tracking metadata
file before downloading.</p></li>
<li><p>This step is useful because we do not know how many sub-images each GeoTIFF
has been split into until the Earth Engine task completes. Without this
information it is difficult to provide accurate download status information
(like the progress bar).</p></li>
<li><p>CEDAR will still try to download what data it finds if tracking metadata
has not been updated since Earth Engine tasks completed.</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Clean downloaded data from the storage service</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Passing the <code class="docutils literal notranslate"><span class="pre">--clean</span></code> flag to the <code class="docutils literal notranslate"><span class="pre">cedar</span> <span class="pre">download</span></code> program tells
the program to delete data from your storage service after it has
been downloaded.</p></li>
<li><p>This option is designed to faciltate batch processing by clearing space
from your storage service as soon as is possible.</p></li>
</ul>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="convert.html" class="btn btn-neutral float-right" title="Pre-ARD to ARD Conversion" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tracking.html" class="btn btn-neutral float-left" title="Pre-ARD Order Tracking" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Chris Holden

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>